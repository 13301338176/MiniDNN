<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MiniDNN: MiniDNN::Layer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MiniDNN
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classMiniDNN_1_1Layer.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classMiniDNN_1_1Layer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">MiniDNN::Layer Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span><div class="ingroups"><a class="el" href="group__Layers.html">Hidden Layers</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="Layer_8h_source.html">Layer.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for MiniDNN::Layer:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classMiniDNN_1_1Layer.png" usemap="#MiniDNN::Layer_map" alt=""/>
  <map id="MiniDNN::Layer_map" name="MiniDNN::Layer_map">
<area href="classMiniDNN_1_1Convolutional.html" alt="MiniDNN::Convolutional&lt; Activation &gt;" shape="rect" coords="0,56,238,80"/>
<area href="classMiniDNN_1_1Convolutional.html" alt="MiniDNN::Convolutional&lt; Activation &gt;" shape="rect" coords="248,56,486,80"/>
<area href="classMiniDNN_1_1FullyConnected.html" alt="MiniDNN::FullyConnected&lt; Activation &gt;" shape="rect" coords="496,56,734,80"/>
<area href="classMiniDNN_1_1MaxPooling.html" alt="MiniDNN::MaxPooling&lt; Activation &gt;" shape="rect" coords="744,56,982,80"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab44e9783c6008fe2b96bbbc1703d70e1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMiniDNN_1_1Layer.html#ab44e9783c6008fe2b96bbbc1703d70e1">Layer</a> (const int <a class="el" href="classMiniDNN_1_1Layer.html#a72e4e08afdc509e39a9fe810a7c9bdff">in_size</a>, const int <a class="el" href="classMiniDNN_1_1Layer.html#a713d8715c604f67dae09a8d4f0c43895">out_size</a>)</td></tr>
<tr class="separator:ab44e9783c6008fe2b96bbbc1703d70e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6004fd909f40dd09bd51b8168dee72e7"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMiniDNN_1_1Layer.html#a6004fd909f40dd09bd51b8168dee72e7">~Layer</a> ()</td></tr>
<tr class="separator:a6004fd909f40dd09bd51b8168dee72e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72e4e08afdc509e39a9fe810a7c9bdff"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMiniDNN_1_1Layer.html#a72e4e08afdc509e39a9fe810a7c9bdff">in_size</a> () const</td></tr>
<tr class="separator:a72e4e08afdc509e39a9fe810a7c9bdff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a713d8715c604f67dae09a8d4f0c43895"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMiniDNN_1_1Layer.html#a713d8715c604f67dae09a8d4f0c43895">out_size</a> () const</td></tr>
<tr class="separator:a713d8715c604f67dae09a8d4f0c43895"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5be04bde6970fdb919490a35fb94a35"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMiniDNN_1_1Layer.html#ae5be04bde6970fdb919490a35fb94a35">init</a> (const Scalar &amp;mu, const Scalar &amp;sigma, <a class="el" href="classMiniDNN_1_1RNG.html">RNG</a> &amp;rng)=0</td></tr>
<tr class="separator:ae5be04bde6970fdb919490a35fb94a35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f4380a725f9c82091346ee0a6b7a1bb"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMiniDNN_1_1Layer.html#a4f4380a725f9c82091346ee0a6b7a1bb">forward</a> (const Matrix &amp;prev_layer_data)=0</td></tr>
<tr class="separator:a4f4380a725f9c82091346ee0a6b7a1bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7dcb49af8ed20e6697b7eb21e2c1ba4"><td class="memItemLeft" align="right" valign="top">virtual const Matrix &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMiniDNN_1_1Layer.html#af7dcb49af8ed20e6697b7eb21e2c1ba4">output</a> () const =0</td></tr>
<tr class="separator:af7dcb49af8ed20e6697b7eb21e2c1ba4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2f3f39d6f00c19ce46b32c6d142fa52"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMiniDNN_1_1Layer.html#ae2f3f39d6f00c19ce46b32c6d142fa52">backprop</a> (const Matrix &amp;prev_layer_data, const Matrix &amp;next_layer_data)=0</td></tr>
<tr class="separator:ae2f3f39d6f00c19ce46b32c6d142fa52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ae2f43acd440d13a40151d8e004211b"><td class="memItemLeft" align="right" valign="top">virtual const Matrix &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMiniDNN_1_1Layer.html#a5ae2f43acd440d13a40151d8e004211b">backprop_data</a> () const =0</td></tr>
<tr class="separator:a5ae2f43acd440d13a40151d8e004211b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abba71a0b35798c08e01b8d224db44e61"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMiniDNN_1_1Layer.html#abba71a0b35798c08e01b8d224db44e61">update</a> (<a class="el" href="classMiniDNN_1_1Optimizer.html">Optimizer</a> &amp;opt)=0</td></tr>
<tr class="separator:abba71a0b35798c08e01b8d224db44e61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f17dcd8808504c0bf49d1fbed096b6f"><td class="memItemLeft" align="right" valign="top">virtual std::vector&lt; Scalar &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMiniDNN_1_1Layer.html#a0f17dcd8808504c0bf49d1fbed096b6f">get_parameters</a> () const =0</td></tr>
<tr class="separator:a0f17dcd8808504c0bf49d1fbed096b6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52342e910a38f96a9ee8497fd41f968a"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMiniDNN_1_1Layer.html#a52342e910a38f96a9ee8497fd41f968a">set_parameters</a> (const std::vector&lt; Scalar &gt; &amp;param)</td></tr>
<tr class="separator:a52342e910a38f96a9ee8497fd41f968a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21aa2fd2de06f7bbbbbeb751a833381d"><td class="memItemLeft" align="right" valign="top">virtual std::vector&lt; Scalar &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMiniDNN_1_1Layer.html#a21aa2fd2de06f7bbbbbeb751a833381d">get_derivatives</a> () const =0</td></tr>
<tr class="separator:a21aa2fd2de06f7bbbbbeb751a833381d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The interface of hidden layers in a neural network. It defines some common operations of hidden layers such as initialization, forward and backward propogation, and also functions to get/set parameters of the layer. </p>

<p class="definition">Definition at line <a class="el" href="Layer_8h_source.html#l00024">24</a> of file <a class="el" href="Layer_8h_source.html">Layer.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ab44e9783c6008fe2b96bbbc1703d70e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab44e9783c6008fe2b96bbbc1703d70e1">&#9670;&nbsp;</a></span>Layer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">MiniDNN::Layer::Layer </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>in_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>out_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Constructor</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">in_size</td><td>Number of input units of this hidden <a class="el" href="classMiniDNN_1_1Layer.html">Layer</a>. It must be equal to the number of output units of the previous layer. </td></tr>
    <tr><td class="paramname">out_size</td><td>Number of output units of this hidden layer. It must be equal to the number of input units of the next layer. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="Layer_8h_source.html#l00042">42</a> of file <a class="el" href="Layer_8h_source.html">Layer.h</a>.</p>

</div>
</div>
<a id="a6004fd909f40dd09bd51b8168dee72e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6004fd909f40dd09bd51b8168dee72e7">&#9670;&nbsp;</a></span>~Layer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual MiniDNN::Layer::~Layer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Virtual destructor </p>

<p class="definition">Definition at line <a class="el" href="Layer_8h_source.html#l00049">49</a> of file <a class="el" href="Layer_8h_source.html">Layer.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a72e4e08afdc509e39a9fe810a7c9bdff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72e4e08afdc509e39a9fe810a7c9bdff">&#9670;&nbsp;</a></span>in_size()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int MiniDNN::Layer::in_size </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the number of input units of this hidden layer. </p>

<p class="definition">Definition at line <a class="el" href="Layer_8h_source.html#l00054">54</a> of file <a class="el" href="Layer_8h_source.html">Layer.h</a>.</p>

</div>
</div>
<a id="a713d8715c604f67dae09a8d4f0c43895"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a713d8715c604f67dae09a8d4f0c43895">&#9670;&nbsp;</a></span>out_size()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int MiniDNN::Layer::out_size </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the number of output units of this hidden layer. </p>

<p class="definition">Definition at line <a class="el" href="Layer_8h_source.html#l00058">58</a> of file <a class="el" href="Layer_8h_source.html">Layer.h</a>.</p>

</div>
</div>
<a id="ae5be04bde6970fdb919490a35fb94a35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5be04bde6970fdb919490a35fb94a35">&#9670;&nbsp;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void MiniDNN::Layer::init </td>
          <td>(</td>
          <td class="paramtype">const Scalar &amp;&#160;</td>
          <td class="paramname"><em>mu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Scalar &amp;&#160;</td>
          <td class="paramname"><em>sigma</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMiniDNN_1_1RNG.html">RNG</a> &amp;&#160;</td>
          <td class="paramname"><em>rng</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Initialize layer parameters using \(N(\mu, \sigma^2)\) distribution</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mu</td><td>Mean of the normal distribution. </td></tr>
    <tr><td class="paramname">sigma</td><td>Standard deviation of the normal distribution. </td></tr>
    <tr><td class="paramname">rng</td><td>The random number generator of type <a class="el" href="classMiniDNN_1_1RNG.html">RNG</a>. </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="classMiniDNN_1_1Convolutional.html#abaa46dccac1a6c3a15ec166dab81cb69">MiniDNN::Convolutional&lt; Activation &gt;</a>, <a class="el" href="classMiniDNN_1_1Convolutional.html#abaa46dccac1a6c3a15ec166dab81cb69">MiniDNN::Convolutional&lt; Activation &gt;</a>, <a class="el" href="classMiniDNN_1_1MaxPooling.html#a216fddc463007bf6fc3af633160be3ee">MiniDNN::MaxPooling&lt; Activation &gt;</a>, and <a class="el" href="classMiniDNN_1_1FullyConnected.html#ad14e97fb50e3dde06913001bc9c31df0">MiniDNN::FullyConnected&lt; Activation &gt;</a>.</p>

</div>
</div>
<a id="a4f4380a725f9c82091346ee0a6b7a1bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f4380a725f9c82091346ee0a6b7a1bb">&#9670;&nbsp;</a></span>forward()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void MiniDNN::Layer::forward </td>
          <td>(</td>
          <td class="paramtype">const Matrix &amp;&#160;</td>
          <td class="paramname"><em>prev_layer_data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Compute the output of this layer</p>
<p>The purpose of this function is to let the hidden layer compute information that will be passed to the next layer as the input. The concrete behavior of this function is subject to the implementation, with the only requirement that after calling this function, the <a class="el" href="classMiniDNN_1_1Layer.html#af7dcb49af8ed20e6697b7eb21e2c1ba4">Layer::output()</a> member function will return a reference to the output values.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">prev_layer_data</td><td>The output of previous layer, which is also the input of this layer. <code>prev_layer_data</code> should have <code>in_size</code> rows as in the constructor, and each column of <code>prev_layer_data</code> is an observation. </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="classMiniDNN_1_1Convolutional.html#a7bb21665df8537309ddf418371c982ff">MiniDNN::Convolutional&lt; Activation &gt;</a>, <a class="el" href="classMiniDNN_1_1Convolutional.html#a7bb21665df8537309ddf418371c982ff">MiniDNN::Convolutional&lt; Activation &gt;</a>, <a class="el" href="classMiniDNN_1_1MaxPooling.html#a715a29f39bff74edb78b91938764911a">MiniDNN::MaxPooling&lt; Activation &gt;</a>, and <a class="el" href="classMiniDNN_1_1FullyConnected.html#ad7704dcf12193fff6c96904f6beea4e9">MiniDNN::FullyConnected&lt; Activation &gt;</a>.</p>

</div>
</div>
<a id="af7dcb49af8ed20e6697b7eb21e2c1ba4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7dcb49af8ed20e6697b7eb21e2c1ba4">&#9670;&nbsp;</a></span>output()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual const Matrix&amp; MiniDNN::Layer::output </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Obtain the output values of this layer</p>
<p>This function is assumed to be called after <a class="el" href="classMiniDNN_1_1Layer.html#a4f4380a725f9c82091346ee0a6b7a1bb">Layer::forward()</a> in each iteration. The output are the values of output hidden units after applying activation function. The main usage of this function is to provide the <code>prev_layer_data</code> parameter in <a class="el" href="classMiniDNN_1_1Layer.html#a4f4380a725f9c82091346ee0a6b7a1bb">Layer::forward()</a> of the next layer.</p>
<dl class="section return"><dt>Returns</dt><dd>A reference to the matrix that contains the output values. The matrix should have <code>out_size</code> rows as in the constructor, and have number of columns equal to that of <code>prev_layer_data</code> in the <a class="el" href="classMiniDNN_1_1Layer.html#a4f4380a725f9c82091346ee0a6b7a1bb">Layer::forward()</a> function. Each column represents an observation. </dd></dl>

<p>Implemented in <a class="el" href="classMiniDNN_1_1Convolutional.html#a189d78bc6d9d22c2becb96b3b98a85fb">MiniDNN::Convolutional&lt; Activation &gt;</a>, <a class="el" href="classMiniDNN_1_1Convolutional.html#a189d78bc6d9d22c2becb96b3b98a85fb">MiniDNN::Convolutional&lt; Activation &gt;</a>, <a class="el" href="classMiniDNN_1_1MaxPooling.html#a09de4eda76c0413748e96e3671e6672f">MiniDNN::MaxPooling&lt; Activation &gt;</a>, and <a class="el" href="classMiniDNN_1_1FullyConnected.html#a7f88d208e1473381e7ac38d9aec56e50">MiniDNN::FullyConnected&lt; Activation &gt;</a>.</p>

</div>
</div>
<a id="ae2f3f39d6f00c19ce46b32c6d142fa52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2f3f39d6f00c19ce46b32c6d142fa52">&#9670;&nbsp;</a></span>backprop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void MiniDNN::Layer::backprop </td>
          <td>(</td>
          <td class="paramtype">const Matrix &amp;&#160;</td>
          <td class="paramname"><em>prev_layer_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Matrix &amp;&#160;</td>
          <td class="paramname"><em>next_layer_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Compute the gradients of parameters and input units using back-propagation</p>
<p>The purpose of this function is to compute the gradient of input units, which can be retrieved by <a class="el" href="classMiniDNN_1_1Layer.html#a5ae2f43acd440d13a40151d8e004211b">Layer::backprop_data()</a>, and the gradient of layer parameters, which could later be used by the <a class="el" href="classMiniDNN_1_1Layer.html#abba71a0b35798c08e01b8d224db44e61">Layer::update()</a> function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">prev_layer_data</td><td>The output of previous layer, which is also the input of this layer. <code>prev_layer_data</code> should have <code>in_size</code> rows as in the constructor, and each column of <code>prev_layer_data</code> is an observation. </td></tr>
    <tr><td class="paramname">next_layer_data</td><td>The gradients of the input units of the next layer, which is also the gradients of the output units of this layer. <code>next_layer_data</code> should have <code>out_size</code> rows as in the constructor, and the same number of columns as <code>prev_layer_data</code>. </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="classMiniDNN_1_1Convolutional.html#a1abb0110b20f2f42a1574b7088bb909a">MiniDNN::Convolutional&lt; Activation &gt;</a>, <a class="el" href="classMiniDNN_1_1Convolutional.html#a1abb0110b20f2f42a1574b7088bb909a">MiniDNN::Convolutional&lt; Activation &gt;</a>, <a class="el" href="classMiniDNN_1_1MaxPooling.html#a9fc60058f1b16d76d9cb2224f2163ff9">MiniDNN::MaxPooling&lt; Activation &gt;</a>, and <a class="el" href="classMiniDNN_1_1FullyConnected.html#a46755f6ce6515cd7f44fbd2fc24cee97">MiniDNN::FullyConnected&lt; Activation &gt;</a>.</p>

</div>
</div>
<a id="a5ae2f43acd440d13a40151d8e004211b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ae2f43acd440d13a40151d8e004211b">&#9670;&nbsp;</a></span>backprop_data()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual const Matrix&amp; MiniDNN::Layer::backprop_data </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Obtain the gradient of input units of this layer</p>
<p>This function provides the <code>next_layer_data</code> parameter in <a class="el" href="classMiniDNN_1_1Layer.html#ae2f3f39d6f00c19ce46b32c6d142fa52">Layer::backprop()</a> of the previous layer, since the derivative of the input of this layer is also the derivative of the output of previous layer. </p>

<p>Implemented in <a class="el" href="classMiniDNN_1_1Convolutional.html#af86b7b68c592b5cfd4c762588f835f7e">MiniDNN::Convolutional&lt; Activation &gt;</a>, <a class="el" href="classMiniDNN_1_1Convolutional.html#af86b7b68c592b5cfd4c762588f835f7e">MiniDNN::Convolutional&lt; Activation &gt;</a>, <a class="el" href="classMiniDNN_1_1MaxPooling.html#ad9863062d3982998dfbfd90c6610c5b9">MiniDNN::MaxPooling&lt; Activation &gt;</a>, and <a class="el" href="classMiniDNN_1_1FullyConnected.html#a14400f82001e217334d1a32a85165dbb">MiniDNN::FullyConnected&lt; Activation &gt;</a>.</p>

</div>
</div>
<a id="abba71a0b35798c08e01b8d224db44e61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abba71a0b35798c08e01b8d224db44e61">&#9670;&nbsp;</a></span>update()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void MiniDNN::Layer::update </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMiniDNN_1_1Optimizer.html">Optimizer</a> &amp;&#160;</td>
          <td class="paramname"><em>opt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Update parameters after back-propagation</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">opt</td><td>The optimization algorithm to be used. See the <a class="el" href="classMiniDNN_1_1Optimizer.html">Optimizer</a> class. </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="classMiniDNN_1_1Convolutional.html#a31bd129cf35adfec6adaf04952a63453">MiniDNN::Convolutional&lt; Activation &gt;</a>, <a class="el" href="classMiniDNN_1_1Convolutional.html#a31bd129cf35adfec6adaf04952a63453">MiniDNN::Convolutional&lt; Activation &gt;</a>, <a class="el" href="classMiniDNN_1_1MaxPooling.html#a88f22504b4d12e996b1aca9f408be4b1">MiniDNN::MaxPooling&lt; Activation &gt;</a>, and <a class="el" href="classMiniDNN_1_1FullyConnected.html#a861b659345d396fa52abac65d9c01afb">MiniDNN::FullyConnected&lt; Activation &gt;</a>.</p>

</div>
</div>
<a id="a0f17dcd8808504c0bf49d1fbed096b6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f17dcd8808504c0bf49d1fbed096b6f">&#9670;&nbsp;</a></span>get_parameters()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::vector&lt;Scalar&gt; MiniDNN::Layer::get_parameters </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get serialized values of parameters </p>

<p>Implemented in <a class="el" href="classMiniDNN_1_1Convolutional.html#a66d8a0d1da3f8f1a8b780aacb51b57d2">MiniDNN::Convolutional&lt; Activation &gt;</a>, <a class="el" href="classMiniDNN_1_1Convolutional.html#a66d8a0d1da3f8f1a8b780aacb51b57d2">MiniDNN::Convolutional&lt; Activation &gt;</a>, <a class="el" href="classMiniDNN_1_1MaxPooling.html#ab2a26570bd54b3f59f37545663140dbb">MiniDNN::MaxPooling&lt; Activation &gt;</a>, and <a class="el" href="classMiniDNN_1_1FullyConnected.html#a41870ef03a8e28126414af97df59b28a">MiniDNN::FullyConnected&lt; Activation &gt;</a>.</p>

</div>
</div>
<a id="a52342e910a38f96a9ee8497fd41f968a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52342e910a38f96a9ee8497fd41f968a">&#9670;&nbsp;</a></span>set_parameters()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void MiniDNN::Layer::set_parameters </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; Scalar &gt; &amp;&#160;</td>
          <td class="paramname"><em>param</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set the values of layer parameters from serialized data </p>

<p>Reimplemented in <a class="el" href="classMiniDNN_1_1Convolutional.html#a72075f5c4b378c0181395778626618ea">MiniDNN::Convolutional&lt; Activation &gt;</a>, <a class="el" href="classMiniDNN_1_1Convolutional.html#a72075f5c4b378c0181395778626618ea">MiniDNN::Convolutional&lt; Activation &gt;</a>, <a class="el" href="classMiniDNN_1_1MaxPooling.html#a6db41b2126133b470f5787025c01197d">MiniDNN::MaxPooling&lt; Activation &gt;</a>, and <a class="el" href="classMiniDNN_1_1FullyConnected.html#ac60bc0ec3d3aad38fd9eeafb4152fc52">MiniDNN::FullyConnected&lt; Activation &gt;</a>.</p>

<p class="definition">Definition at line <a class="el" href="Layer_8h_source.html#l00141">141</a> of file <a class="el" href="Layer_8h_source.html">Layer.h</a>.</p>

</div>
</div>
<a id="a21aa2fd2de06f7bbbbbeb751a833381d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21aa2fd2de06f7bbbbbeb751a833381d">&#9670;&nbsp;</a></span>get_derivatives()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::vector&lt;Scalar&gt; MiniDNN::Layer::get_derivatives </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get serialized values of the gradient of parameters </p>

<p>Implemented in <a class="el" href="classMiniDNN_1_1Convolutional.html#a9ecb05471cf2bd87c19b47817f63995c">MiniDNN::Convolutional&lt; Activation &gt;</a>, <a class="el" href="classMiniDNN_1_1Convolutional.html#a9ecb05471cf2bd87c19b47817f63995c">MiniDNN::Convolutional&lt; Activation &gt;</a>, <a class="el" href="classMiniDNN_1_1MaxPooling.html#a62eb649ccadaad2574bff9dcfad526c6">MiniDNN::MaxPooling&lt; Activation &gt;</a>, and <a class="el" href="classMiniDNN_1_1FullyConnected.html#a094bfbf3c7ddd14a897e69e3065e9dcc">MiniDNN::FullyConnected&lt; Activation &gt;</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="Layer_8h_source.html">Layer.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>MiniDNN</b></li><li class="navelem"><a class="el" href="classMiniDNN_1_1Layer.html">Layer</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
